{% extends 'main.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'reset_password.css' %}">
{% endblock %}

{% block content %}

<div class="reset-container">

    <div class="reset-card">

        <h2 class="reset-title">Reset Your Password ğŸ”</h2>
        <p class="reset-subtitle">
            Keep your account safe by choosing a strong password
        </p>

        {% if error %}
            <p class="error-msg">{{ error }}</p>
        {% endif %}

        <form method="POST">
            {% csrf_token %}

            <div class="form-group">
                <label>Username</label>
                <input 
                    type="text" 
                    value="{{ request.user.username }}" 
                    readonly
                >
            </div>

            {% if new_pass %}
                <div class="form-group">
                    <label>New Password</label>
                    <input 
                        type="password" 
                        name="newpassword" 
                        placeholder="Enter new password"
                        required
                    >
                </div>
            {% else %}
                <div class="form-group">
                    <label>Current Password</label>
                    <input 
                        type="password" 
                        name="oldpassword" 
                        placeholder="Enter current password"
                        required
                    >
                </div>
            {% endif %}

            <button class="reset-btn" type="submit">
                {% if new_pass %}Update Password{% else %}Verify Password{% endif %}
            </button>
        </form>

        <p class="reset-footer">
            ğŸ”’ Your password is encrypted & secure
        </p>

    </div>

</div>

{% endblock %}
